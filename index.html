<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>EV Map Lviv</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
}
#map {
  height: 100%;
}
</style>
</head>

<body>

<div id="map"></div>

<script>

const map = L.map('map').setView([49.8397, 24.0297], 11);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '&copy; OpenStreetMap contributors'
}).addTo(map);


// üî• –ë–µ–∑–ø–µ—á–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è stations.json
fetch("stations.json")
  .then(res => res.json())
  .then(stations => {

    console.log("–°—Ç–∞–Ω—Ü—ñ–π:", stations.length);

    stations.forEach(s => {

      if (!s.lat || !s.lng) return;

      L.marker([s.lat, s.lng])
        .addTo(map)
        .bindPopup(`
          <b>${s.name}</b><br>
          –û–ø–µ—Ä–∞—Ç–æ—Ä: ${s.operator}<br>
          –¢–∏–ø–∏: ${s.types.join(", ")}
        `);

    });

  })
  .catch(err => {
    console.log("JSON –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–≤—Å—è ‚Äî –ø–æ–∫–∞–∑—É—î–º–æ —Ç–µ—Å—Ç–æ–≤—É —Ç–æ—á–∫—É");
    
    L.marker([49.8397, 24.0297])
      .addTo(map)
      .bindPopup("JSON –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ");
  });

</script>

</body>
</html>
